<section class="partner-container">
    <h2 class="partners-title">Our Partners</h2>
    <br>
  <p class="partners-subtitle">
    Collaborating with forward-thinking leaders to drive innovation.
  </p>
    <div class="gallery">
        <div class="scroll-container" id="scrollContainer">
            <ul class="cards" id="cards">
                <li><img src="/assets/images/others/partner1.svg"></li>
                <li><img src="/assets/images/others/partner2.svg"></li>
                <li><img src="/assets/images/others/partner3.svg"></li>
                <li><img src="/assets/images/others/partner4.svg"></li>
                <li><img src="/assets/images/others/partner5.svg"></li>
            </ul>
        </div>
    </div>
</section>
<script>
    const container = document.getElementById('scrollContainer');
    const cards = document.getElementById('cards');

    container.addEventListener('scroll', () => {
        const items = [...cards.children];
        const containerCenter = container.scrollLeft + container.offsetWidth / 2;

        items.forEach(item => {
            const rect = item.getBoundingClientRect();
            const itemCenter = rect.left + rect.width / 2;
            const distance = Math.abs(containerCenter - (container.scrollLeft + itemCenter));

            item.classList.remove('active');
            if (distance < 150) {
                item.classList.add('active');
            }
        });

        const first = cards.firstElementChild;
        const last = cards.lastElementChild;

        if (first.getBoundingClientRect().right < 0) {
            cards.appendChild(first);
            container.scrollLeft -= first.offsetWidth + 48; // includes gap
        }

        if (last.getBoundingClientRect().left > window.innerWidth) {
            cards.prepend(last);
            container.scrollLeft += last.offsetWidth + 48;
        }
    });

</script>